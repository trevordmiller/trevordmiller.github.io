
        <!DOCTYPE html>
        <html lang="en-US">
            <head>
                <title>trevordmiller.com</title>
                <meta name="author" content="Trevor D. Miller">
                <meta name="description" content="Personal website.">
                <meta charset="utf-8">
                <meta name="viewport" content="width=device-width, initial-scale=1">
                <style type="text/css">
                    /* Fix native overflow */
                    pre {
                      overflow: auto;
                    }
                </style>
            </head>
            <body>
                <header>
                    <nav>
                        <a href="/">Notes</a>
                        <a href="https://github.com/trevordmiller">GitHub</a>
                        <a href="https://www.linkedin.com/in/trevordmiller">LinkedIn</a>
                    </nav>
                </header>
                <hr />
                <main>
                    <article>
                        <h1>Continuous Integration and Deployment in Rust</h1>
<p>Cargo can be used for static analysis and releasing. For example, with something like the following:</p>
<h2>Run CI when pushing to branches for pull requeests</h2>
<pre><code class="language-yaml">name: Pull request
on:
  push:
    branches-ignore:
      - master
jobs:
  verify:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout
      uses: actions/checkout@v1
    - name: Check
      run: cargo check
    - name: Test
      run: cargo test
    - name: Lint
      run: cargo clippy --all-targets -- -D warnings
    - name: Format
      run: cargo fmt -- --check
    - name: Publish
      run: cargo publish --dry-run
</code></pre>
<h2>Run CI and CD when merging pull requests to master</h2>
<pre><code class="language-yaml">name: Merge
on:
  push:
    branches:
      - master
jobs:
  verify:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout
      uses: actions/checkout@v1
    - name: Check
      run: cargo check
    - name: Test
      run: cargo test
    - name: Lint
      run: cargo clippy --all-targets -- -D warnings
    - name: Format
      run: cargo fmt -- --check
  executable:
    runs-on: ubuntu-latest
    needs: [verify]
    steps:
    - name: Checkout
      uses: actions/checkout@v1
    - name: Login
      run: cargo login ${{ secrets.CRATE_REGISTRY_PAT }}
    - name: Publish
      if: success()
      run: cargo publish
</code></pre>

                    </article>
                </main>
              </body>
        </html>
    